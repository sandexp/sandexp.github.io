#### 线程池实现原理

1. 判断核心线程池中的线程是否都在执行任务，如果是，则将任务放置到等待队列中(队列未满)。否则创建一个线程执行任务。
2. 如果等待队列满了，则坚持在所有线程中是否有空闲的线程，如果有则创建一个新的工作线程执行任务
3. 如果没有空闲线程，则表示当前无法执行当前任务，采取拒绝策略，默认情况下是放弃任务执行，当然也可以定义用户自己的回调函数。

#### 任务提交过程

使用函数execute用于提交没有返回值的任务，使用函数submit提交带有返回值的任务，使用Future的get函数阻塞获取执行结果。

#### 线程池常用参数

+ `corePoolSize`: 核心线程数量，用于确定核心线程的大小，用于线程池的预热

+ `runnableTaskQueue`：任务等待队列，当核心线程池满了之后，任务会放置在这里等待调度

  这里任务等待队列可以是有界队列，也可以是无界队列，当队列是无界队列的时候，最大线程数参数无效，因为线程池分配逻辑无法执行到这个参数的位置。

+ `maximumPoolSize`：最大线程数量，当等待队列满的时候，会使用核心线程池外的线程，如果超出最大线程数量，则会触发拒绝策略

+ `ThreadFactory`：线程工厂类，通过工厂模式创建线程

+ `RejectExecutionHandler`：线程数量达到最大时候触发，默认放弃任务的执行

+ `keepAliveTime`：线程在空闲状态下可以维持的最大时间，如果超出时间则会回收线程资源

  